"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var date_picker_1 = tslib_1.__importDefault(require("antd/lib/date-picker"));
var moment_1 = tslib_1.__importDefault(require("moment"));
var react_1 = tslib_1.__importDefault(require("react"));
var uniforms_1 = require("uniforms");
var wrapField_1 = tslib_1.__importDefault(require("./wrapField"));
var defaultStyle = { width: '100%' };
function Date(_a) {
    var _b = _a.showTime, showTime = _b === void 0 ? true : _b, _c = _a.style, style = _c === void 0 ? defaultStyle : _c, props = tslib_1.__rest(_a, ["showTime", "style"]);
    return wrapField_1.default(props, react_1.default.createElement(date_picker_1.default, tslib_1.__assign({ disabled: props.disabled, inputReadOnly: props.readOnly, name: props.name, onChange: function (value) {
            if (!props.readOnly) {
                props.onChange(value ? value.toDate() : undefined);
            }
        }, placeholder: props.placeholder, 
        // @ts-expect-error: `DatePicker` is an intersection.
        ref: props.inputRef, showTime: showTime, style: style, value: props.value && moment_1.default(props.value) }, uniforms_1.filterDOMProps(props))));
}
exports.default = uniforms_1.connectField(Date, { kind: 'leaf' });
